import requests
from bs4 import BeautifulSoup

def main():
    fuente = 'https://es.semrush.com/trending-websites/ar/all#:~:text=Directo-,Mostrar,-20%20m%C3%A1s'
    agent = {
        "User-Agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36"
    }
    cookies = {
        'GCLB': 'CIXXrbDxlebSYhAD',
        'GCLB': 'CL3S863X28yQnwEQAw',
        'PHPSESSID': '52a703e3dc0d5f3623cd3d934dd7e551',
        'SSO-JWT': 'eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI1MmE3MDNlM2RjMGQ1ZjM2MjNjZDNkOTM0ZGQ3ZTU1MSIsImlhdCI6MTcxOTMzNDExOSwiaXNzIjoic3NvIn0.ZWQwNtDvXl-RpDILiXjAacxRw5n7Qn1WDUybXLad6JySxbd3EH-oOjUyyCNet5HKTAsfcsdah8vXlty01shrAg',
        'visit_first': '1719334125135',
        'ga_exp_c41234be21bd4796bbf8e763': '0',
        'intercom-id-cs07vi2k': '49ee0d0e-593d-4fbb-a1cd-cc713c879476',
        'intercom-session-cs07vi2k': '',
        'intercom-device-id-cs07vi2k': '62a9ff79-30a0-4681-aa8e-870924ae862b'
    }
    request = requests.get(fuente, headers=agent, cookies=cookies)
    soup = BeautifulSoup(request.text, 'html5lib')
    print(type(soup))
    soup_a = soup.find_all('a', class_='___SBoxInline_1tphm_gg_ NZFMZoXJrDaOPTLvk6JZ')
    domain_list = []
    for a in soup_a:
        domain_list.append(f'www.{a.text}')
        print(a.text)
    
    print(domain_list)
    print(len(domain_list))

if __name__ == '__main__':
    main()