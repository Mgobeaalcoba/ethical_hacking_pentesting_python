import wget
from os import path
from xml.etree.ElementTree import parse, Element

def main():
    url = 'https://gsas.harvard.edu/rss.xml'  # Archivo .xml que se encuentra dentro del sitio de Harvard creado con Joomla
    output_dir = 'intro_hacking/'
    output_file = path.join(output_dir, 'rss.xml')

    if not path.exists(output_file):
        download = wget.download(url=url, out=output_dir)

    # Parsear el archivo XML
    archivo = parse(output_file)
    root = archivo.getroot()

    # Buscar el elemento 'link'
    link_element = root.findall(".//link")  # Buscar en cualquier parte del Ã¡rbol

    if link_element is not None:
        for link in link_element:
            print(f"link de Joomla: {link.text}")
    else:
        print("Elemento 'version' no encontrado.")

if __name__ == '__main__':
    try:
        main()
    except KeyboardInterrupt:
        print("Saliendo...")
        exit()
